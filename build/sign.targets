<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <!-- Use NuGet SNK by default for all projects except API.Test. -->
  <PropertyGroup>
    <StrongNameKey>$(NUGET_PFX_PATH)</StrongNameKey>
    <DefaultStrongNameCert>67</DefaultStrongNameCert>
  </PropertyGroup>

  <!-- Use MSFT SNK for all NuGet.Core test and source projects and since we do not own MSFT SNK we can only delay sign the assemblies. -->
  <PropertyGroup Condition = " $(MSBuildProjectFullPath.Contains('src\NuGet.Core')) == 'true' or $(MSBuildProjectFullPath.Contains('test/NuGet.Core')) == 'true' or
                               $(MSBuildProjectFullPath.Contains('src/NuGet.Core')) == 'true' or $(MSBuildProjectFullPath.Contains('test\NuGet.Core')) == 'true' or
                               $(MSBuildProjectFullPath.Contains('NuGet.CommandLine.csproj')) == 'true' ">

    <StrongNameKey>$(MS_PFX_PATH)</StrongNameKey>
    <DefaultStrongNameCert>MsSharedLib72</DefaultStrongNameCert>
  </PropertyGroup>

  <PropertyGroup Condition = " Exists($(StrongNameKey)) ">
    <StrongNameKeyId>NuGet</StrongNameKeyId>
    <SignAssembly>true</SignAssembly>
    <DelaySign Condition="'$(IsXplat)' != 'true'">true</DelaySign>
    <PublicSign Condition="'$(IsXplat)' == 'true'">true</PublicSign>
    <AssemblyOriginatorKeyFile Condition = " '$(AssemblyOriginatorKeyFile)' == '' ">$(StrongNameKey)</AssemblyOriginatorKeyFile>
    <StrongNameCert Condition="'$(StrongNameCert)' == ''">$(DefaultStrongNameCert)</StrongNameCert>
    <DefineConstants>$(DefineConstants);SIGNED_BUILD</DefineConstants>
    <PublicKey>002400000480000094000000060200000024000052534131000400000100010007d1fa57c4aed9f0a32e84aa0faefd0de9e8fd6aec8f87fb03766c834c99921eb23be79ad9d5dcc1dd9ad236132102900b723cf980957fc4e177108fc607774f29e8320e92ea05ece4e821c0a5efe8f1645c4c0c93c1ab99285d622caa652c1dfad63d745d6f2de5f17e5eaf0fc4963d261c8a12436518206dc093344d5ad293</PublicKey>
    <PublicKeyToken>b03f5f7f11d50a3a</PublicKeyToken>
  </PropertyGroup>

</Project>